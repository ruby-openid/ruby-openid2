<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OpenID::Message
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "OpenID::Message";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../OpenID.html" title="OpenID (module)">OpenID</a></span></span>
     &raquo; 
    <span class="title">Message</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: OpenID::Message
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">OpenID::Message</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/openid/kvpost.rb<span class="defines">,<br />
  lib/openid/message.rb</span>
</dd>
  </dl>
  
</div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Message/KeyNotFound.html" title="OpenID::Message::KeyNotFound (class)">KeyNotFound</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="registered_aliases-classvariable" class="">@@registered_aliases =
          <div class="docstring">
  <div class="discussion">
    <p>Namespace / alias registration map.  See<br />
register_namespace_alias.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='rbrace'>}</span></pre></dd>
      
        <dt id="allowed_openid_namespaces-classvariable" class="">@@allowed_openid_namespaces =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="../OpenID.html#OPENID1_NS-constant" title="OpenID::OPENID1_NS (constant)">OPENID1_NS</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../OpenID.html#OPENID2_NS-constant" title="OpenID::OPENID2_NS (constant)">OPENID2_NS</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../OpenID.html#OPENID11_NS-constant" title="OpenID::OPENID11_NS (constant)">OPENID11_NS</a></span></span><span class='rbracket'>]</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespaces-instance_method" title="#namespaces (instance method)">#<strong>namespaces</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute namespaces.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from_http_response-class_method" title="from_http_response (class method)">.<strong>from_http_response</strong>(response, server_url)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from_kvform-class_method" title="from_kvform (class method)">.<strong>from_kvform</strong>(kvform_string)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a message from a KVForm string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from_openid_args-class_method" title="from_openid_args (class method)">.<strong>from_openid_args</strong>(openid_args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Construct a Message from a parsed KVForm message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from_post_args-class_method" title="from_post_args (class method)">.<strong>from_post_args</strong>(args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Construct a Message containing a set of POST arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#register_namespace_alias-class_method" title="register_namespace_alias (class method)">.<strong>register_namespace_alias</strong>(namespace_uri, alias_)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Registers a (namespace URI, alias) mapping in a global namespace alias map.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#_fix_ns-instance_method" title="#_fix_ns (instance method)">#<strong>_fix_ns</strong>(namespace)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Convert an input value into the internally used values of this obejct.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#_from_openid_args-instance_method" title="#_from_openid_args (instance method)">#<strong>_from_openid_args</strong>(openid_args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Raises InvalidNamespaceError if you try to instantiate a Message with a namespace not in the above allowed list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#_get_default_namespace-instance_method" title="#_get_default_namespace (instance method)">#<strong>_get_default_namespace</strong>(mystery_alias)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#copy-instance_method" title="#copy (instance method)">#<strong>copy</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#del_arg-instance_method" title="#del_arg (instance method)">#<strong>del_arg</strong>(namespace, key)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Remove a single argument from this namespace.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_aliased_arg-instance_method" title="#get_aliased_arg (instance method)">#<strong>get_aliased_arg</strong>(aliased_key, default = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_arg-instance_method" title="#get_arg (instance method)">#<strong>get_arg</strong>(namespace, key, default = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Get a value for a namespaced key.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_args-instance_method" title="#get_args (instance method)">#<strong>get_args</strong>(namespace)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Get the arguments that are defined for this namespace URI.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_key-instance_method" title="#get_key (instance method)">#<strong>get_key</strong>(namespace, ns_key)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Get the key for a particular namespaced argument.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_openid_namespace-instance_method" title="#get_openid_namespace (instance method)">#<strong>get_openid_namespace</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_key%3F-instance_method" title="#has_key? (instance method)">#<strong>has_key?</strong>(namespace, ns_key)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(openid_namespace = nil)  &#x21d2; Message </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Raises InvalidNamespaceError if you try to instantiate a Message with a namespace not in the above allowed list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_openid1-instance_method" title="#is_openid1 (instance method)">#<strong>is_openid1</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_openid2-instance_method" title="#is_openid2 (instance method)">#<strong>is_openid2</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_arg-instance_method" title="#set_arg (instance method)">#<strong>set_arg</strong>(namespace, key, value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set a single argument in this namespace.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_openid_namespace-instance_method" title="#set_openid_namespace (instance method)">#<strong>set_openid_namespace</strong>(openid_ns_uri, implicit)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_args-instance_method" title="#to_args (instance method)">#<strong>to_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return all namespaced arguments, failing if any non-namespaced arguments exist.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_form_markup-instance_method" title="#to_form_markup (instance method)">#<strong>to_form_markup</strong>(action_url, form_tag_attrs = nil, submit_text = &quot;Continue&quot;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Generate HTML form markup that contains the values in this message, to be HTTP POSTed as x-www-form-urlencoded UTF-8.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_kvform-instance_method" title="#to_kvform (instance method)">#<strong>to_kvform</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Generate a KVForm string that contains the parameters in this message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_post_args-instance_method" title="#to_post_args (instance method)">#<strong>to_post_args</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return all arguments with “openid.” in from of namespaced arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_url-instance_method" title="#to_url (instance method)">#<strong>to_url</strong>(base_url)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Generate a GET URL with the paramters in this message attacked as query parameters.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_url_encoded-instance_method" title="#to_url_encoded (instance method)">#<strong>to_url_encoded</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Generate an x-www-urlencoded string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_args-instance_method" title="#update_args (instance method)">#<strong>update_args</strong>(namespace, updates)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set multiple key/value pairs in one call.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(openid_namespace = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="OpenID::Message (class)">Message</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Raises InvalidNamespaceError if you try to instantiate a Message<br />
with a namespace not in the above allowed list</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113
114
115
116
117
118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_namespace'>openid_namespace</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@namespaces</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="NamespaceMap.html" title="OpenID::NamespaceMap (class)">NamespaceMap</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="NamespaceMap.html#initialize-instance_method" title="OpenID::NamespaceMap#initialize (method)">new</a></span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_openid_namespace'>openid_namespace</span>
    <span class='id identifier rubyid_implicit'>implicit</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../OpenID.html#OPENID1_NAMESPACES-constant" title="OpenID::OPENID1_NAMESPACES (constant)">OPENID1_NAMESPACES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_member?'>member?</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_namespace'>openid_namespace</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_set_openid_namespace'>set_openid_namespace</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_namespace'>openid_namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_implicit'>implicit</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@openid_ns_uri</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="namespaces-instance_method">
  
    #<strong>namespaces</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute namespaces.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_namespaces'>namespaces</span>
  <span class='ivar'>@namespaces</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="from_http_response-class_method">
  
    .<strong>from_http_response</strong>(response, server_url)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/kvpost.rb', line 35</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_from_http_response'>from_http_response</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='comma'>,</span> <span class='id identifier rubyid_server_url'>server_url</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='id identifier rubyid_from_kvform'>from_kvform</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_code'>code</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>when</span> <span class='int'>200</span>
    <span class='id identifier rubyid_msg'>msg</span>
  <span class='kw'>when</span> <span class='int'>206</span>
    <span class='id identifier rubyid_msg'>msg</span>
  <span class='kw'>when</span> <span class='int'>400</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="ServerError.html" title="OpenID::ServerError (class)">ServerError</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_message'><span class='object_link'><a href="ServerError.html#from_message-class_method" title="OpenID::ServerError.from_message (method)">from_message</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_error_message'>error_message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bad status code from server </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_server_url'>server_url</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="HTTPStatusError.html" title="OpenID::HTTPStatusError (class)">HTTPStatusError</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_error_message'>error_message</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="from_kvform-class_method">
  
    .<strong>from_kvform</strong>(kvform_string)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a message from a KVForm string</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 225</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_from_kvform'>from_kvform</span><span class='lparen'>(</span><span class='id identifier rubyid_kvform_string'>kvform_string</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="" title="OpenID::Message (class)">Message</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_openid_args'><span class='object_link'><a href="#from_openid_args-class_method" title="OpenID::Message.from_openid_args (method)">from_openid_args</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Util.html" title="OpenID::Util (module)">Util</a></span></span><span class='period'>.</span><span class='id identifier rubyid_kv_to_dict'><span class='object_link'><a href="Util.html#kv_to_dict-class_method" title="OpenID::Util.kv_to_dict (method)">kv_to_dict</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_kvform_string'>kvform_string</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="from_openid_args-class_method">
  
    .<strong>from_openid_args</strong>(openid_args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Construct a Message from a parsed KVForm message.<br />
Raises InvalidNamespaceError if you try to instantiate a Message<br />
with a namespace not in the above allowed list</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 150</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_from_openid_args'>from_openid_args</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_args'>openid_args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="OpenID::Message (class)">Message</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="OpenID::Message#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid__from_openid_args'>_from_openid_args</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_args'>openid_args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="from_post_args-class_method">
  
    .<strong>from_post_args</strong>(args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Construct a Message containing a set of POST arguments.<br />
Raises InvalidNamespaceError if you try to instantiate a Message<br />
with a namespace not in the above allowed list</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 125</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_from_post_args'>from_post_args</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="OpenID::Message (class)">Message</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="OpenID::Message#initialize (method)">new</a></span></span>
  <span class='id identifier rubyid_openid_args'>openid_args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Query dict must have one value for each key, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>not lists of values.  Query is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_prefix'>prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_rest'>rest</span> <span class='op'>=</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_prefix'>prefix</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>openid</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>or</span> <span class='id identifier rubyid_rest'>rest</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_set_arg'>set_arg</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../OpenID.html#BARE_NS-constant" title="OpenID::BARE_NS (constant)">BARE_NS</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_openid_args'>openid_args</span><span class='lbracket'>[</span><span class='id identifier rubyid_rest'>rest</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid__from_openid_args'>_from_openid_args</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_args'>openid_args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="register_namespace_alias-class_method">
  
    .<strong>register_namespace_alias</strong>(namespace_uri, alias_)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Registers a (namespace URI, alias) mapping in a global namespace<br />
alias map.  Raises NamespaceAliasRegistrationError if either the<br />
namespace URI or alias has already been registered with a<br />
different value.  This function is required if you want to use a<br />
namespace with an OpenID 1 message.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94
95
96
97
98
99
100
101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 91</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_register_namespace_alias'>register_namespace_alias</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace_uri'>namespace_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_alias_'>alias_</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='cvar'>@@registered_aliases</span><span class='lbracket'>[</span><span class='id identifier rubyid_alias_'>alias_</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_namespace_uri'>namespace_uri</span>

  <span class='kw'>if</span> <span class='cvar'>@@registered_aliases</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace_uri'>namespace_uri</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NamespaceAliasRegistrationError.html" title="OpenID::NamespaceAliasRegistrationError (class)">NamespaceAliasRegistrationError</a></span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Namespace uri #{namespace_uri} already registered</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='cvar'>@@registered_aliases</span><span class='period'>.</span><span class='id identifier rubyid_member?'>member?</span><span class='lparen'>(</span><span class='id identifier rubyid_alias_'>alias_</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NamespaceAliasRegistrationError.html" title="OpenID::NamespaceAliasRegistrationError (class)">NamespaceAliasRegistrationError</a></span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Alias #{alias_} already registered</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>

  <span class='cvar'>@@registered_aliases</span><span class='lbracket'>[</span><span class='id identifier rubyid_alias_'>alias_</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_namespace_uri'>namespace_uri</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="==-instance_method">
  
    #<strong>==</strong>(other)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


421
422
423</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 421</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@args</span> <span class='op'>==</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='lbrace'>{</span> <span class='ivar'>@args</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_fix_ns-instance_method">
  
    #<strong>_fix_ns</strong>(namespace)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Convert an input value into the internally used values of this obejct.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 326</span>

<span class='kw'>def</span> <span class='id identifier rubyid__fix_ns'>_fix_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../OpenID.html#OPENID_NS-constant" title="OpenID::OPENID_NS (constant)">OPENID_NS</a></span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="UndefinedOpenIDNamespace.html" title="OpenID::UndefinedOpenIDNamespace (class)">UndefinedOpenIDNamespace</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OpenID namespace not set</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@openid_ns_uri</span>

    <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='ivar'>@openid_ns_uri</span>

  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_namespace'>namespace</span> <span class='kw'>if</span> <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../OpenID.html#BARE_NS-constant" title="OpenID::BARE_NS (constant)">BARE_NS</a></span></span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_namespace'>namespace</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Namespace must be BARE_NS, OPENID_NS or </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a string. Got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_namespace'>namespace</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_namespace'>namespace</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OpenID 2.0 namespace identifiers SHOULD be URIs. </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_namespace'>namespace</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Util.html" title="OpenID::Util (module)">Util</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="Util.html#log-class_method" title="OpenID::Util.log (method)">log</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sreg</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_msg'>msg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Using </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../OpenID.html#SREG_URI-constant" title="OpenID::SREG_URI (constant)">SREG_URI</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'> instead of \&quot;sreg\&quot; as namespace</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'><span class='object_link'><a href="Util.html" title="OpenID::Util (module)">Util</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="Util.html#log-class_method" title="OpenID::Util.log (method)">log</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='const'><span class='object_link'><a href="../OpenID.html#SREG_URI-constant" title="OpenID::SREG_URI (constant)">SREG_URI</a></span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_namespace'>namespace</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_from_openid_args-instance_method">
  
    #<strong>_from_openid_args</strong>(openid_args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Raises InvalidNamespaceError if you try to instantiate a Message<br />
with a namespace not in the above allowed list</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 158</span>

<span class='kw'>def</span> <span class='id identifier rubyid__from_openid_args'>_from_openid_args</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_args'>openid_args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ns_args'>ns_args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='comment'># resolve namespaces
</span>  <span class='id identifier rubyid_openid_args'>openid_args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rest'>rest</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span> <span class='op'>=</span> <span class='id identifier rubyid_rest'>rest</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_ns_key'>ns_key</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_ns_alias'>ns_alias</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../OpenID.html#NULL_NAMESPACE-constant" title="OpenID::NULL_NAMESPACE (constant)">NULL_NAMESPACE</a></span></span>
      <span class='id identifier rubyid_ns_key'>ns_key</span> <span class='op'>=</span> <span class='id identifier rubyid_rest'>rest</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_ns_alias'>ns_alias</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ns</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_add_alias'>add_alias</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_ns_alias'>ns_alias</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../OpenID.html#NULL_NAMESPACE-constant" title="OpenID::NULL_NAMESPACE (constant)">NULL_NAMESPACE</a></span></span> <span class='kw'>and</span> <span class='id identifier rubyid_ns_key'>ns_key</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ns</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_set_openid_namespace'>set_openid_namespace</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_ns_args'>ns_args</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># implicitly set an OpenID 1 namespace
</span>  <span class='id identifier rubyid_set_openid_namespace'>set_openid_namespace</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../OpenID.html#OPENID1_NS-constant" title="OpenID::OPENID1_NS (constant)">OPENID1_NS</a></span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_get_openid_namespace'>get_openid_namespace</span>

  <span class='comment'># put the pairs into the appropriate namespaces
</span>  <span class='id identifier rubyid_ns_args'>ns_args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_ns_uri'>ns_uri</span> <span class='op'>=</span> <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_get_namespace_uri'>get_namespace_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_ns_uri'>ns_uri</span>
      <span class='id identifier rubyid_ns_uri'>ns_uri</span> <span class='op'>=</span> <span class='id identifier rubyid__get_default_namespace'>_get_default_namespace</span><span class='lparen'>(</span><span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_ns_uri'>ns_uri</span>
        <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_add_alias'>add_alias</span><span class='lparen'>(</span><span class='id identifier rubyid_ns_uri'>ns_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_ns_uri'>ns_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_get_openid_namespace'>get_openid_namespace</span>
        <span class='id identifier rubyid_ns_key'>ns_key</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ns_key'>ns_key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_set_arg'>set_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_ns_uri'>ns_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_get_default_namespace-instance_method">
  
    #<strong>_get_default_namespace</strong>(mystery_alias)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid__get_default_namespace'>_get_default_namespace</span><span class='lparen'>(</span><span class='id identifier rubyid_mystery_alias'>mystery_alias</span><span class='rparen'>)</span>
  <span class='comment'># only try to map an alias to a default if it&#39;s an
</span>  <span class='comment'># OpenID 1.x namespace
</span>  <span class='cvar'>@@registered_aliases</span><span class='lbracket'>[</span><span class='id identifier rubyid_mystery_alias'>mystery_alias</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_is_openid1'>is_openid1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="copy-instance_method">
  
    #<strong>copy</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


229
230
231</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 229</span>

<span class='kw'>def</span> <span class='id identifier rubyid_copy'>copy</span>
  <span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='const'>Marshal</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="del_arg-instance_method">
  
    #<strong>del_arg</strong>(namespace, key)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Remove a single argument from this namespace.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


415
416
417
418
419</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 415</span>

<span class='kw'>def</span> <span class='id identifier rubyid_del_arg'>del_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='id identifier rubyid__fix_ns'>_fix_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__key'>_key</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
  <span class='ivar'>@args</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid__key'>_key</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_aliased_arg-instance_method">
  
    #<strong>get_aliased_arg</strong>(aliased_key, default = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 425</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_aliased_arg'>get_aliased_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_aliased_key'>aliased_key</span><span class='comma'>,</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_get_openid_namespace'>get_openid_namespace</span> <span class='kw'>if</span> <span class='id identifier rubyid_aliased_key'>aliased_key</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ns</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_aliased_key'>aliased_key</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_ns_alias'>ns_alias</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ns</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_get_namespace_uri'>get_namespace_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>:</span> <span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../OpenID.html#NO_DEFAULT-constant" title="OpenID::NO_DEFAULT (constant)">NO_DEFAULT</a></span></span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="Message/KeyNotFound.html" title="OpenID::Message::KeyNotFound (class)">KeyNotFound</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Namespace </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'> not defined when looking </span><span class='tstring_end'>&quot;</span></span> \
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_aliased_key'>aliased_key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_aliased_key'>aliased_key</span>
    <span class='id identifier rubyid_ns'>ns</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ns'>ns</span> <span class='op'>=</span> <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_get_namespace_uri'>get_namespace_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_ns'>ns</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_aliased_key'>aliased_key</span>
    <span class='id identifier rubyid_ns'>ns</span> <span class='op'>=</span> <span class='id identifier rubyid_get_openid_namespace'>get_openid_namespace</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_ns'>ns</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_default'>default</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_arg-instance_method">
  
    #<strong>get_arg</strong>(namespace, key, default = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Get a value for a namespaced key.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


381
382
383
384
385
386
387
388</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 381</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='id identifier rubyid__fix_ns'>_fix_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>
  <span class='ivar'>@args</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="Message/KeyNotFound.html" title="OpenID::Message::KeyNotFound (class)">KeyNotFound</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_namespace'>namespace</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_content'> not in this message</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_default'>default</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../OpenID.html#NO_DEFAULT-constant" title="OpenID::NO_DEFAULT (constant)">NO_DEFAULT</a></span></span>

    <span class='id identifier rubyid_default'>default</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_args-instance_method">
  
    #<strong>get_args</strong>(namespace)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Get the arguments that are defined for this namespace URI.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


391
392
393
394
395
396
397
398
399</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 391</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_args'>get_args</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='id identifier rubyid__fix_ns'>_fix_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_pair_ns'>pair_ns</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span> <span class='op'>=</span> <span class='id identifier rubyid_k'>k</span>
    <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='id identifier rubyid_ns_key'>ns_key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span> <span class='kw'>if</span> <span class='id identifier rubyid_pair_ns'>pair_ns</span> <span class='op'>==</span> <span class='id identifier rubyid_namespace'>namespace</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_key-instance_method">
  
    #<strong>get_key</strong>(namespace, ns_key)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Get the key for a particular namespaced argument</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 362</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_key'>get_key</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='id identifier rubyid__fix_ns'>_fix_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_ns_key'>ns_key</span> <span class='kw'>if</span> <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../OpenID.html#BARE_NS-constant" title="OpenID::BARE_NS (constant)">BARE_NS</a></span></span>

  <span class='id identifier rubyid_ns_alias'>ns_alias</span> <span class='op'>=</span> <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_get_alias'>get_alias</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>

  <span class='comment'># no alias is defined, so no key can exist
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='id identifier rubyid_tail'>tail</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_ns_alias'>ns_alias</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../OpenID.html#NULL_NAMESPACE-constant" title="OpenID::NULL_NAMESPACE (constant)">NULL_NAMESPACE</a></span></span>
    <span class='id identifier rubyid_ns_key'>ns_key</span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ns_key'>ns_key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>openid.</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_tail'>tail</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_openid_namespace-instance_method">
  
    #<strong>get_openid_namespace</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 212</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_openid_namespace'>get_openid_namespace</span>
  <span class='ivar'>@openid_ns_uri</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_key?-instance_method">
  
    #<strong>has_key?</strong>(namespace, ns_key)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


356
357
358
359</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 356</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='id identifier rubyid__fix_ns'>_fix_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>
  <span class='ivar'>@args</span><span class='period'>.</span><span class='id identifier rubyid_member?'>member?</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_openid1-instance_method">
  
    #<strong>is_openid1</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


216
217
218</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 216</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_openid1'>is_openid1</span>
  <span class='const'><span class='object_link'><a href="../OpenID.html#OPENID1_NAMESPACES-constant" title="OpenID::OPENID1_NAMESPACES (constant)">OPENID1_NAMESPACES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_member?'>member?</span><span class='lparen'>(</span><span class='ivar'>@openid_ns_uri</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_openid2-instance_method">
  
    #<strong>is_openid2</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


220
221
222</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 220</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_openid2'>is_openid2</span>
  <span class='ivar'>@openid_ns_uri</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../OpenID.html#OPENID2_NS-constant" title="OpenID::OPENID2_NS (constant)">OPENID2_NS</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_arg-instance_method">
  
    #<strong>set_arg</strong>(namespace, key, value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Set a single argument in this namespace</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


408
409
410
411
412</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 408</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_arg'>set_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='id identifier rubyid__fix_ns'>_fix_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>
  <span class='ivar'>@args</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>!=</span> <span class='const'><span class='object_link'><a href="../OpenID.html#BARE_NS-constant" title="OpenID::BARE_NS (constant)">BARE_NS</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_openid_namespace-instance_method">
  
    #<strong>set_openid_namespace</strong>(openid_ns_uri, implicit)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205
206
207
208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 203</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_openid_namespace'>set_openid_namespace</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_ns_uri'>openid_ns_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_implicit'>implicit</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='cvar'>@@allowed_openid_namespaces</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_ns_uri'>openid_ns_uri</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="InvalidOpenIDNamespace.html" title="OpenID::InvalidOpenIDNamespace (class)">InvalidOpenIDNamespace</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid null namespace: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_openid_ns_uri'>openid_ns_uri</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_add_alias'>add_alias</span><span class='lparen'>(</span><span class='id identifier rubyid_openid_ns_uri'>openid_ns_uri</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../OpenID.html#NULL_NAMESPACE-constant" title="OpenID::NULL_NAMESPACE (constant)">NULL_NAMESPACE</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_implicit'>implicit</span><span class='rparen'>)</span>
  <span class='ivar'>@openid_ns_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_openid_ns_uri'>openid_ns_uri</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_args-instance_method">
  
    #<strong>to_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Return all namespaced arguments, failing if any non-namespaced arguments<br />
exist.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


260
261
262
263
264
265
266
267
268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 260</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_args'>to_args</span>
  <span class='id identifier rubyid_post_args'>post_args</span> <span class='op'>=</span> <span class='id identifier rubyid_to_post_args'>to_post_args</span>
  <span class='id identifier rubyid_kvargs'>kvargs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_post_args'>post_args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>openid.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This message can only be encoded as a POST, because it contains arguments that are not prefixed with &#39;openid.&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_kvargs'>kvargs</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='lbracket'>[</span><span class='int'>7</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_kvargs'>kvargs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_form_markup-instance_method">
  
    #<strong>to_form_markup</strong>(action_url, form_tag_attrs = nil, submit_text = &quot;Continue&quot;)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Generate HTML form markup that contains the values in this<br />
message, to be HTTP POSTed as x-www-form-urlencoded UTF-8.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 276</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_form_markup'>to_form_markup</span><span class='lparen'>(</span><span class='id identifier rubyid_action_url'>action_url</span><span class='comma'>,</span> <span class='id identifier rubyid_form_tag_attrs'>form_tag_attrs</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_submit_text'>submit_text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Continue</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_form_tag_attr_map'>form_tag_attr_map</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_form_tag_attrs'>form_tag_attrs</span>
    <span class='id identifier rubyid_form_tag_attrs'>form_tag_attrs</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_attr'>attr</span><span class='op'>|</span>
      <span class='id identifier rubyid_form_tag_attr_map'>form_tag_attr_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_attr'>attr</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_form_tag_attr_map'>form_tag_attr_map</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>action</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_action_url'>action_url</span>
  <span class='id identifier rubyid_form_tag_attr_map'>form_tag_attr_map</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>method</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>post</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_form_tag_attr_map'>form_tag_attr_map</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>accept-charset</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UTF-8</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_form_tag_attr_map'>form_tag_attr_map</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>enctype</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application/x-www-form-urlencoded</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_markup'>markup</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;form </span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_form_tag_attr_map'>form_tag_attr_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_markup'>markup</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='embexpr_end'>}</span><span class='tstring_content'>=\&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_markup'>markup</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_to_post_args'>to_post_args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='id identifier rubyid_markup'>markup</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;input type=&#39;hidden&#39; name=&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; value=&#39;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../OpenID.html" title="OpenID (module)">OpenID</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Util.html" title="OpenID::Util (module)">Util</a></span></span><span class='period'>.</span><span class='id identifier rubyid_html_encode'><span class='object_link'><a href="Util.html#html_encode-class_method" title="OpenID::Util.html_encode (method)">html_encode</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; /&gt;\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_markup'>markup</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;input type=&#39;submit&#39; value=&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_submit_text'>submit_text</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; /&gt;\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_markup'>markup</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n&lt;/form&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_markup'>markup</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_kvform-instance_method">
  
    #<strong>to_kvform</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Generate a KVForm string that contains the parameters in this message.<br />
This will fail is the message contains arguments outside of the<br />
“openid.” prefix.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 315</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_kvform'>to_kvform</span>
  <span class='const'><span class='object_link'><a href="Util.html" title="OpenID::Util (module)">Util</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dict_to_kv'><span class='object_link'><a href="Util.html#dict_to_kv-class_method" title="OpenID::Util.dict_to_kv (method)">dict_to_kv</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_to_args'>to_args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_post_args-instance_method">
  
    #<strong>to_post_args</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Return all arguments with “openid.” in from of namespaced arguments.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 234</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_post_args'>to_post_args</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='comment'># add namespace defs to the output
</span>  <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ns_uri'>ns_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_alias'>ns_alias</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='ivar'>@namespaces</span><span class='period'>.</span><span class='id identifier rubyid_implicit?'>implicit?</span><span class='lparen'>(</span><span class='id identifier rubyid_ns_uri'>ns_uri</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_ns_key'>ns_key</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_ns_alias'>ns_alias</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../OpenID.html#NULL_NAMESPACE-constant" title="OpenID::NULL_NAMESPACE (constant)">NULL_NAMESPACE</a></span></span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>openid.ns</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>openid.ns.</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_ns_alias'>ns_alias</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='id identifier rubyid_ns_key'>ns_key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_ns_uri'>ns_uri</span>
  <span class='kw'>end</span>

  <span class='ivar'>@args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_ns_uri'>ns_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span> <span class='op'>=</span> <span class='id identifier rubyid_k'>k</span>
    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_get_key'>get_key</span><span class='lparen'>(</span><span class='id identifier rubyid_ns_uri'>ns_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_ns_key'>ns_key</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_url-instance_method">
  
    #<strong>to_url</strong>(base_url)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Generate a GET URL with the paramters in this message attacked as<br />
query parameters.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


308
309
310</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 308</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_url'>to_url</span><span class='lparen'>(</span><span class='id identifier rubyid_base_url'>base_url</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Util.html" title="OpenID::Util (module)">Util</a></span></span><span class='period'>.</span><span class='id identifier rubyid_append_args'><span class='object_link'><a href="Util.html#append_args-class_method" title="OpenID::Util.append_args (method)">append_args</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_base_url'>base_url</span><span class='comma'>,</span> <span class='id identifier rubyid_to_post_args'>to_post_args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_url_encoded-instance_method">
  
    #<strong>to_url_encoded</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Generate an x-www-urlencoded string.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


320
321
322
323</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 320</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_url_encoded'>to_url_encoded</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_to_post_args'>to_post_args</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
  <span class='const'><span class='object_link'><a href="Util.html" title="OpenID::Util (module)">Util</a></span></span><span class='period'>.</span><span class='id identifier rubyid_urlencode'><span class='object_link'><a href="Util.html#urlencode-class_method" title="OpenID::Util.urlencode (method)">urlencode</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_args-instance_method">
  
    #<strong>update_args</strong>(namespace, updates)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Set multiple key/value pairs in one call.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


402
403
404
405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/openid/message.rb', line 402</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_args'>update_args</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_updates'>updates</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_namespace'>namespace</span> <span class='op'>=</span> <span class='id identifier rubyid__fix_ns'>_fix_ns</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_updates'>updates</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_set_arg'>set_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_namespace'>namespace</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun Jul  6 06:29:39 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.4).
</div>

    </div>
  </body>
</html>